{"version":3,"file":"bundles/pages/_app.js","sources":["webpack:///webpack/bootstrap 075c7987fbac12178371","webpack:///pages/_app.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"gsap\"","webpack:///external \"next/app\"","webpack:///external \"react\"","webpack:///external \"react-transition-group\"","webpack:///external \"styled-jsx/style\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 075c7987fbac12178371","import App, { Container } from \"next/app\";\nimport React from \"react\";\nimport { TransitionGroup, Transition } from \"react-transition-group\";\nimport { TweenMax, TimelineMax } from \"gsap\";\n// import { CSSPlugin } from \"gsap/src/uncompressed/plugins/CSSPlugin\";\n\nexport default class MyApp extends App {\n  static async getInitialProps({ Component, router, ctx }) {\n    let pageProps = {};\n\n    if (Component.getInitialProps) {\n      pageProps = await Component.getInitialProps(ctx);\n    }\n\n    return { pageProps };\n  }\n\n  state = {\n    currentRoute: null,\n    currentPage: null,\n    clickedProduct: null,\n    currentlyHoveredElement: null,\n    prevNodeClassName: null,\n    imageReel: null\n  };\n\n  componentDidMount = () => {\n    console.log(\"THIS COMPONENTS PROPS: \", this.props);\n    const { setCurrentlyHoveredElement } = this;\n    // Will give this a shot for attempting to maintain the reference of the div\n    // that needs to be repositioned to the product display image's position\n    document.addEventListener(\"mouseover\", setCurrentlyHoveredElement);\n    // All right this will work, and then\n    // you can just reset it inside of the transitionElementToNewLocation func\n    // for any routes that need it.\n    const removeIt = e => {\n      console.log(\"THE E TARGET: \", e.target);\n      document.removeEventListener(\"mouseover\", setCurrentlyHoveredElement);\n      // this.setState({\n      //   clickedProduct:\n      // })\n    };\n    document.addEventListener(\"click\", removeIt);\n\n    this.setState({\n      currentRoute: this.props.router.route,\n      currentPage: this.comp.childNodes[0].childNodes[0]\n    });\n  };\n\n  componentDidUpdate = (prevProps, prevState) => {\n    console.log(\"THE NEW PROPS: \", this.props);\n  };\n\n  setCurrentlyHoveredElement = e => {\n    if (e.target.classList[0] === \"product-listing-image\") {\n      const node = e.target.parentNode.parentNode;\n      console.log(\"THE NODE'S CLASSNAME: \", node.className);\n      console.log(\"THE TARGET ID: \", e.target.id);\n      console.log(\"end\");\n      this.setState({\n        currentlyHoveredElement: node,\n        prevNodeClassName: node.className,\n        imageReel: node.parentNode\n      });\n    }\n  };\n\n  // Still need to get the product-display image to transition to the appropriate\n  // position on navigating backwards.\n  // Should be able to jsut use currentlyHoveredElement now that\n  // I'm removing the mouseover event listener.\n  // Nevermind, set the selectedImage used to navigate to /product-display\n  // on the click event.\n  transitionElementToNewLocation = (enteringNode, exitingNode, imageReel) => {\n    console.log(\"transitionElementToNewLocation running\");\n    // index div's x and y where index page is being navigated to\n    // (239.109375, 267.59375)\n    // about div's x and y where about page is being exited\n    // (640.875, 35.1875)\n    // So in the calculating of enteringTop and enteringLeft\n    // Always subtract the entering page's elements from the exiting pages elements\n    // to obtain the position which the exiting page's elements should move to.\n    // const imageReel = exitingNode.querySelector(\".image-reel\");\n    if (imageReel) {\n      const keys = Object.keys(imageReel.childNodes);\n      keys.map(key => {\n        imageReel.childNodes[key].className !== exitingNode.className &&\n          TweenMax.set(imageReel.childNodes[key], { autoAlpha: 0 });\n      });\n    }\n    console.log(\"THE ENTERING NODE: \", enteringNode);\n    if (enteringNode === null) {\n      TweenMax.set(exitingNode, { autoAlpha: 0 });\n    } else {\n      const tl = new TimelineMax();\n      const enteringNodeBoundingRect = enteringNode.getBoundingClientRect();\n      const exitingNodeBoundingRect = exitingNode.getBoundingClientRect();\n      console.log(\"ENTERING NODE'S X: \", enteringNodeBoundingRect.x);\n      console.log(\"ENTERING NODE'S Y: \", enteringNodeBoundingRect.y);\n      const enteringTop =\n        enteringNodeBoundingRect.x - exitingNodeBoundingRect.x;\n      const enteringLeft =\n        enteringNodeBoundingRect.y - exitingNodeBoundingRect.y;\n      console.log(\"THE ENTERING TOP: \", enteringTop);\n      console.log(\"THE ENTERING LEFT: \", enteringLeft);\n      console.dir(exitingNode);\n      console.log(exitingNode.style);\n      TweenMax.set(exitingNode, {\n        clearProps: \"transform\"\n      });\n      // TweenMax.set(exitingNode, { clearProps: \"all\" });\n      TweenMax.set(enteringNode, { autoAlpha: 0 });\n      tl.to(exitingNode, 1, {\n        x: enteringTop,\n        y: enteringLeft\n      });\n      tl.to(enteringNode, 0, { autoAlpha: 1 });\n      tl.play();\n    }\n  };\n\n  enterTransition = async node => {\n    const { currentRoute, currentPage, currentlyHoveredElement } = this.state;\n    let enteringNodeImage;\n    let exitingNodeImage;\n\n    if (currentRoute === \"/\") {\n      // console.log(\"THE CURRENT PAGE / : \", currentPage);\n      // console.log(\"THE NODE / : \", node);\n      // console.dir(currentPage.childNodes);\n      // console.log(\"getting ById\", node.querySelector(\".product-display-image\"));\n      exitingNodeImage = currentlyHoveredElement;\n      console.log(\"EXITING NODE: \", exitingNodeImage);\n      // console.log(\"CURRENTLY HOVERED PRODUCT ON /\", exitingNodeImage);\n      enteringNodeImage = node.querySelector(\".product-display-image\");\n      // Now just need to do the hover thing to get the image that was clicked\n      this.transitionElementToNewLocation(\n        enteringNodeImage,\n        exitingNodeImage,\n        this.state.imageReel\n      );\n    } else if (currentRoute === \"/product-display\") {\n      document.addEventListener(\"mouseover\", this.setCurrentlyHoveredElement);\n      enteringNodeImage = node.querySelector(\n        \".\" + this.state.prevNodeClassName\n      );\n      exitingNodeImage = currentPage.querySelector(\".product-display-image\");\n      this.transitionElementToNewLocation(enteringNodeImage, exitingNodeImage);\n    }\n    this.setState({\n      currentRoute: this.props.router.route,\n      currentPage: node\n    });\n  };\n\n  render() {\n    const { Component, pageProps } = this.props;\n    return (\n      <Container>\n        <div ref={x => (this.comp = x)}>\n          <TransitionGroup>\n            <Transition\n              in={this.props.in}\n              key={this.props.router.route}\n              timeout={{\n                enter: 1000,\n                exit: 1000\n              }}\n              mountOnEnter={false}\n              unmountOnExit={true}\n              onEnter={this.enterTransition}\n            >\n              <Component {...pageProps} />\n            </Transition>\n          </TransitionGroup>\n        </div>\n        <style jsx global>{`\n          body {\n            margin: 0;\n            padding: 0;\n            background: #99e1d9;\n          }\n\n          *,\n          *::after,\n          *::before {\n            box-sizing: border-box;\n            border: 0;\n          }\n\n          img {\n            box-sizing: border-box;\n          }\n        `}</style>\n      </Container>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// pages/_app.js","module.exports = require(\"@babel/runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@babel/runtime/regenerator\"\n// module id = @babel/runtime/regenerator\n// module chunks = 0","module.exports = require(\"gsap\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"gsap\"\n// module id = gsap\n// module chunks = 0","module.exports = require(\"next/app\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/app\"\n// module id = next/app\n// module chunks = 0","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 0","module.exports = require(\"react-transition-group\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-transition-group\"\n// module id = react-transition-group\n// module chunks = 0","module.exports = require(\"styled-jsx/style\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"styled-jsx/style\"\n// module id = styled-jsx/style\n// module chunks = 0"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;AASA;AACA;AACA;AAFA;AAAA;AAIA;AACA;AACA;AADA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;;;;;AAEA;AACA;AACA;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;;;;;AAQA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAFA;AACA;AA7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;AAiCA;AAAA;AACA;AADA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAdA;AAAA;AAAA;AAsCA;;;;;;;;;;;;AA9LA;AACA;AACA;AACA;;;;;;AACA;AACA;;AADA;AACA;;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AATA;AACA;;;;;;;;;;;;;;;;ACPA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;A","sourceRoot":""}